<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeAI - Futurescape Style</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: #1a1155;
            color: white;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            opacity: 0.5;
        }
        
        .container {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            font-weight: 300;
            letter-spacing: 2px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.8;
        }
        
        .floating-shapes-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 0;
        }
        
        .floating-shape {
            position: absolute;
            border-radius: 50%;
            filter: blur(5px);
            opacity: 0.7;
            animation: float 15s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0) translateX(0);
            }
            25% {
                transform: translateY(-20px) translateX(10px);
            }
            50% {
                transform: translateY(10px) translateX(-15px);
            }
            75% {
                transform: translateY(15px) translateX(5px);
            }
        }
        
        .conversation-container {
            position: relative;
            z-index: 2;
            width: 100%;
            max-width: 500px;
            background-color: rgba(30, 20, 90, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .messages {
            height: 350px;
            overflow-y: auto;
            padding: 20px;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 80%;
            word-wrap: break-word;
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user-message {
            background-color: #6c5ce7;
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 4px;
        }
        
        .ai-message {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            margin-right: auto;
            border-bottom-left-radius: 4px;
        }
        
        .input-area {
            display: flex;
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background-color: rgba(30, 20, 90, 0.5);
        }
        
        .input-area input {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 30px;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            outline: none;
        }
        
        .input-area input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        .input-area button {
            background-color: #00d2d3;
            color: #1a1155;
            border: none;
            border-radius: 30px;
            padding: 15px 25px;
            margin-left: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .input-area button:hover {
            background-color: #00a0a1;
            transform: scale(1.05);
        }
        
        .pixel-container {
            position: relative;
            width: 100%;
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            z-index: 2;
        }
        
        .pixel {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #6c5ce7, #00d2d3);
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            box-shadow: 0 0 30px rgba(108, 92, 231, 0.8);
            transition: all 0.3s ease;
        }
        
        .pixel:before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(108, 92, 231, 0.3) 0%, rgba(0, 210, 211, 0) 70%);
            z-index: -1;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.5;
            }
            100% {
                transform: scale(1);
                opacity: 0.8;
            }
        }
        
        .pixel.listening {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            box-shadow: 0 0 30px rgba(232, 67, 147, 0.8);
            animation: listen 1.5s infinite alternate;
        }
        
        @keyframes listen {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.1);
            }
        }
        
        .pixel.thinking {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            box-shadow: 0 0 30px rgba(225, 112, 85, 0.8);
            animation: think 3s infinite;
        }
        
        @keyframes think {
            0%, 100% {
                transform: scale(1);
                opacity: 0.9;
            }
            50% {
                transform: scale(1.05);
                opacity: 1;
            }
        }
        
        .pixel.speaking {
            background: linear-gradient(135deg, #00d2d3, #55efc4);
            box-shadow: 0 0 30px rgba(0, 210, 211, 0.8);
            animation: speak 0.5s infinite alternate;
        }
        
        @keyframes speak {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.08);
            }
        }
        
        .options-container {
            display: none;
            width: 100%;
            max-width: 500px;
            margin-top: 20px;
            z-index: 2;
        }
        
        .option-button {
            background-color: rgba(108, 92, 231, 0.3);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 15px 20px;
            margin-bottom: 10px;
            width: 100%;
            text-align: left;
            cursor: pointer;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }
        
        .option-button:hover {
            background-color: rgba(108, 92, 231, 0.5);
            transform: translateY(-2px);
        }
        
        /* Mobile responsiveness */
        @media (max-width: 600px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .header p {
                font-size: 1rem;
            }
            
            .conversation-container {
                max-width: 100%;
            }
            
            .messages {
                height: 300px;
            }
            
            .pixel {
                width: 50px;
                height: 50px;
            }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="floating-shapes-container" id="floating-shapes"></div>
    
    <div class="container">
        <div class="header">
            <h1>MeAI</h1>
            <p>A meaningful connection</p>
        </div>
        
        <div class="pixel-container">
            <div class="pixel" id="pixel"></div>
        </div>
        
        <div class="conversation-container">
            <div class="messages" id="messages">
                <!-- Messages will appear here -->
            </div>
            <div class="input-area">
                <input type="text" id="user-input" placeholder="Type your message...">
                <button id="send-button">Send</button>
            </div>
        </div>
        
        <div class="options-container" id="options-container">
            <!-- Option buttons will appear here when needed -->
        </div>
    </div>
    
    <script>
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('MeAI Futurescape Style Initialized');
            
            // Create stars background
            createStars();
            
            // Create floating shapes
            createFloatingShapes();
            
            // DOM Elements
            const pixel = document.getElementById('pixel');
            const messagesContainer = document.getElementById('messages');
            const userInput = document.getElementById('user-input');
            const sendButton = document.getElementById('send-button');
            const optionsContainer = document.getElementById('options-container');
            
            // State
            let pixelState = 'idle'; // idle, listening, thinking, speaking
            let isProcessing = false;
            
            // Add welcome message
            addAIMessage("Hello, I'm MeAI. I'm here to connect with you in a meaningful way. How are you feeling today?");
            
            // Event Listeners
            pixel.addEventListener('click', function() {
                setPixelState('listening');
                setTimeout(() => {
                    if (userInput.value.trim() === '') {
                        // If no input, AI initiates
                        generateAIResponse('initiate');
                    }
                }, 500);
            });
            
            sendButton.addEventListener('click', processUserInput);
            
            userInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    processUserInput();
                }
            });
            
            // Functions
            function createStars() {
                const starsContainer = document.getElementById('stars');
                const starCount = 100;
                
                for (let i = 0; i < starCount; i++) {
                    const star = document.createElement('div');
                    star.classList.add('star');
                    
                    // Random size between 1-3px
                    const size = Math.random() * 2 + 1;
                    star.style.width = `${size}px`;
                    star.style.height = `${size}px`;
                    
                    // Random position
                    const x = Math.random() * 100;
                    const y = Math.random() * 100;
                    star.style.left = `${x}%`;
                    star.style.top = `${y}%`;
                    
                    // Random opacity
                    star.style.opacity = Math.random() * 0.7 + 0.3;
                    
                    // Add twinkling animation with random delay
                    star.style.animation = `twinkle 4s infinite ${Math.random() * 4}s`;
                    
                    starsContainer.appendChild(star);
                }
            }
            
            function createFloatingShapes() {
                const shapesContainer = document.getElementById('floating-shapes');
                const shapeCount = 15;
                const colors = [
                    'rgba(108, 92, 231, 0.3)', // Purple
                    'rgba(0, 210, 211, 0.3)',  // Teal
                    'rgba(253, 121, 168, 0.3)', // Pink
                    'rgba(85, 239, 196, 0.3)'  // Mint
                ];
                
                for (let i = 0; i < shapeCount; i++) {
                    const shape = document.createElement('div');
                    shape.classList.add('floating-shape');
                    
                    // Random size between 30-100px
                    const size = Math.random() * 70 + 30;
                    shape.style.width = `${size}px`;
                    shape.style.height = `${size}px`;
                    
                    // Random position
                    const x = Math.random() * 100;
                    const y = Math.random() * 100;
                    shape.style.left = `${x}%`;
                    shape.style.top = `${y}%`;
                    
                    // Random color
                    const colorIndex = Math.floor(Math.random() * colors.length);
                    shape.style.backgroundColor = colors[colorIndex];
                    
                    // Random animation delay
                    shape.style.animationDelay = `${Math.random() * 5}s`;
                    
                    shapesContainer.appendChild(shape);
                }
            }
            
            function processUserInput() {
                const text = userInput.value.trim();
                if (text === '' || isProcessing) return;
                
                // Add user message
                addUserMessage(text);
                
                // Clear input
                userInput.value = '';
                
                // Generate AI response
                generateAIResponse(text);
            }
            
            function addUserMessage(text) {
                const messageElement = document.createElement('div');
                messageElement.classList.add('message', 'user-message');
                messageElement.textContent = text;
                messagesContainer.appendChild(messageElement);
                
                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            function addAIMessage(text) {
                const messageElement = document.createElement('div');
                messageElement.classList.add('message', 'ai-message');
                messageElement.textContent = text;
                messagesContainer.appendChild(messageElement);
                
                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            function generateAIResponse(userInput) {
                // Set processing state
                isProcessing = true;
                
                // Update pixel state
                setPixelState('thinking');
                
                // Simulate AI processing time
                setTimeout(() => {
                    let response;
                    
                    // Generate response based on user input
                    if (userInput === 'initiate') {
                        // AI-initiated conversation starters
                        const starters = [
                            "I noticed you've been quiet. Is there something on your mind?",
                            "Would this be a good time for a brief mindfulness practice?",
                            "I'm sensing this might be a moment for reflection. How are you feeling right now?",
                            "Sometimes silence speaks volumes. What's present for you in this moment?"
                        ];
                        response = starters[Math.floor(Math.random() * starters.length)];
                    } else {
                        // Process user input and generate appropriate response
                        response = processUserMessage(userInput);
                    }
                    
                    // Update pixel state to speaking
                    setPixelState('speaking');
                    
                    // Add AI response with typing effect
                    typeAIResponse(response);
                    
                    // Show options if appropriate
                    if (Math.random() > 0.5) {
                        setTimeout(() => {
                            showResponseOptions(userInput);
                        }, 1000);
                    }
                }, 1000);
            }
            
            function processUserMessage(message) {
                // Convert to lowercase for easier matching
                const lowerMessage = message.toLowerCase();
                
                // Check for ritual-related queries
                if (lowerMessage.includes('ritual') || 
                    lowerMessage.includes('practice') || 
                    lowerMessage.includes('meditation') ||
                    lowerMessage.includes('mindful')) {
                    return "I'd be happy to guide you through a mindfulness practice. Would you like to try a brief breathing exercise or a gratitude reflection?";
                }
                
                // Check for stress or anxiety indicators
                if (lowerMessage.includes('stress') || 
                    lowerMessage.includes('anxious') || 
                    lowerMessage.includes('anxiety') ||
                    lowerMessage.includes('worried') ||
                    lowerMessage.includes('overwhelm')) {
                    return "I notice you're experiencing some stress. Would you like to try a brief breathing practice to help center yourself? Sometimes just three deep breaths can create a moment of spaciousness.";
                }
                
                // Check for questions about MeAI
                if (lowerMessage.includes('who are you') || 
                    lowerMessage.includes('what are you') ||
                    lowerMessage.includes('about you') ||
                    lowerMessage.includes('tell me about yourself')) {
                    return "I'm MeAI, a relational AI companion designed to support meaningful connection rather than just utility. I'm here to help you cultivate presence, insight, and well-being through conversation and guided practices.";
                }
                
                // Check for gratitude or positive emotions
                if (lowerMessage.includes('thank') || 
                    lowerMessage.includes('grateful') || 
                    lowerMessage.includes('appreciate') ||
                    lowerMessage.includes('happy') ||
                    lowerMessage.includes('good')) {
                    return "I appreciate you sharing that positive energy. Moments of gratitude and joy are worth savoring. Is there something specific that's contributing to this feeling?";
                }
                
                // Default responses for general conversation
                const generalResponses = [
                    "Thank you for sharing that with me. What feels most important about this for you right now?",
                    "I'm here with you in this moment. Would you like to explore this further or would you prefer some space to reflect?",
                    "I appreciate you trusting me with your thoughts. How does this relate to what matters most to you?",
                    "I'm curious about how this is affecting you. Would you like to tell me more about what you're experiencing?",
                    "That's really interesting. I wonder how this connects to other aspects of your life?"
                ];
                
                return generalResponses[Math.floor(Math.random() * generalResponses.length)];
            }
            
            function typeAIResponse(text) {
                // Create message element
                const messageElement = document.createElement('div');
                messageElement.classList.add('message', 'ai-message');
                messagesContainer.appendChild(messageElement);
                
                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                let i = 0;
                const typingSpeed = 30; // ms per character
                
                // Typing effect
                const typeNextChar = () => {
                    if (i < text.length) {
                        messageElement.textContent += text.charAt(i);
                        i++;
                        messagesContainer.scrollTop = messagesContainer.scrollHeight;
                        setTimeout(typeNextChar, typingSpeed);
                    } else {
                        // Typing complete
                        isProcessing = false;
                        
                        // Reset pixel state
                        setTimeout(() => {
                            setPixelState('idle');
                        }, 500);
                    }
                };
                
                // Start typing effect
                typeNextChar();
            }
            
            function showResponseOptions(userInput) {
                // Clear previous options
                optionsContainer.innerHTML = '';
                
                let options = [];
                
                // Generate contextual options based on user input
                const lowerInput = userInput.toLowerCase();
                
                if (lowerInput.includes('stress') || lowerInput.includes('anxious') || lowerInput.includes('worried')) {
                    options = [
                        "I'd like to try a breathing exercise",
                        "Tell me more about managing stress",
                        "I'd prefer to talk about something else"
                    ];
                } else if (lowerInput.includes('happy') || lowerInput.includes('good') || lowerInput.includes('great')) {
                    options = [
                        "Let's practice gratitude together",
                        "I'd like to explore what contributes to this feeling",
                        "Tell me about your approach to well-being"
                    ];
                } else if (lowerInput.includes('ritual') || lowerInput.includes('practice') || lowerInput.includes('meditation')) {
                    options = [
                        "Guide me through a morning reflection",
                        "I'd like to try a gratitude practice",
                        "Tell me more about mindful breathing"
                    ];
                } else {
                    // Default options
                    options = [
                        "I'd like to try a mindfulness practice",
                        "Tell me more about yourself",
                        "How can you help me with daily well-being?"
                    ];
                }
                
                // Create and add option buttons
                options.forEach(option => {
                    const button = document.createElement('button');
                    button.classList.add('option-button');
                    button.textContent = option;
                    
                    button.addEventListener('click', function() {
                        // Add as user message
                        addUserMessage(option);
                        
                        // Hide options
                        optionsContainer.style.display = 'none';
                        
                        // Generate response
                        generateAIResponse(option);
                    });
                    
                    optionsContainer.appendChild(button);
                });
                
                // Show options container
                optionsContainer.style.display = 'block';
            }
            
            function setPixelState(newState) {
                // Remove current state class
                pixel.classList.remove(pixelState);
                
                // Set new state
                pixelState = newState;
                pixel.classList.add(newState);
                
                console.log('Pixel state changed to:', newState);
            }
            
            // Add CSS for twinkling stars
            const style = document.createElement('style');
            style.textContent = `
                @keyframes twinkle {
                    0%, 100% { opacity: 0.3; }
                    50% { opacity: 1; }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
